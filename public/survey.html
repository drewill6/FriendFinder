<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Friend Finder</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</head>

<body>

    <div class="container">
        <div class="jumbotron">
            <strong>
                <h2 class="display-6">Survey Questions</h2>
            </strong>
            <hr>
            <strong>
                <h3>About You</h3>
            </strong>
            <div class="form-group">
                <label for="Name">Name (Required)</label>
                <input type="text" class="form-control" id="Name" placeholder="John Henry">
                <div class="form-group">
                    <label for="Link to Photo Image">Link to Photo Image (Required):</label>
                    <input id="formImage" class="form-control" type="text" name="name" placeholder="http://yourphotolink.com.jpg/">
                    <hr>
                    <strong>
                        <h3>Question 1</h3>
                    </strong>
                    <label for="Name">Your mind is always buzzing with unexplored ideas and plans</label>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Dropdown button
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">1 (Strongly Disagree)</a>
                            <a class="dropdown-item" href="#">2</a>
                            <a class="dropdown-item" href="#">3</a>
                            <a class="dropdown-item" href="#">4</a>
                            <a class="dropdown-item" href="#">5 (Strongly Agree)</a>
                        </div>
                    </div>
                    <strong>
                        <h3>Question 2</h3>
                    </strong>
                    <label for="Name">Generally speaking, you rely more on your experience than your imagination.</label>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Dropdown button
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">1 (Strongly Disagree)</a>
                            <a class="dropdown-item" href="#">2</a>
                            <a class="dropdown-item" href="#">3</a>
                            <a class="dropdown-item" href="#">4</a>
                            <a class="dropdown-item" href="#">5 (Strongly Agree)</a>
                        </div>
                    </div>
                    <strong>
                        <h3>Question 3</h3>
                    </strong>
                    <label for="Name">You find it easy to stay relaxed and focused even when there is some pressure.
                    </label>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Dropdown button
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">1 (Strongly Disagree)</a>
                            <a class="dropdown-item" href="#">2</a>
                            <a class="dropdown-item" href="#">3</a>
                            <a class="dropdown-item" href="#">4</a>
                            <a class="dropdown-item" href="#">5 (Strongly Agree)</a>
                        </div>
                    </div>
                    <strong>
                        <h3>Question 4</h3>
                    </strong>
                    <label for="Name">You rarely do something just out of sheer curiosity.</label>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Dropdown button
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">1 (Strongly Disagree)</a>
                            <a class="dropdown-item" href="#">2</a>
                            <a class="dropdown-item" href="#">3</a>
                            <a class="dropdown-item" href="#">4</a>
                            <a class="dropdown-item" href="#">5 (Strongly Agree)</a>
                        </div>
                    </div>
                    <strong>
                        <h3>Question 5</h3>
                    </strong>
                    <label for="Name">People can rarely upset you.</label>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Dropdown button
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">1 (Strongly Disagree)</a>
                            <a class="dropdown-item" href="#">2</a>
                            <a class="dropdown-item" href="#">3</a>
                            <a class="dropdown-item" href="#">4</a>
                            <a class="dropdown-item" href="#">5 (Strongly Agree)</a>
                        </div>
                    </div>
                    <strong>
                        <h3>Question 6</h3>
                    </strong>
                    <label for="Name">It is often difficult for you to relate to other people’s feelings.</label>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Dropdown button
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">1 (Strongly Disagree)</a>
                            <a class="dropdown-item" href="#">2</a>
                            <a class="dropdown-item" href="#">3</a>
                            <a class="dropdown-item" href="#">4</a>
                            <a class="dropdown-item" href="#">5 (Strongly Agree)</a>
                        </div>
                    </div>
                    <strong>
                        <h3>Question 7</h3>
                    </strong>
                    <label for="Name">In a discussion, truth should be more important than people’s sensitivities.</label>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Dropdown button
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">1 (Strongly Disagree)</a>
                            <a class="dropdown-item" href="#">2</a>
                            <a class="dropdown-item" href="#">3</a>
                            <a class="dropdown-item" href="#">4</a>
                            <a class="dropdown-item" href="#">5 (Strongly Agree)</a>
                        </div>
                    </div>
                    <strong>
                        <h3>Question 8</h3>
                    </strong>
                    <label for="Name">You rarely get carried away by fantasies and ideas.</label>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Dropdown button
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">1 (Strongly Disagree)</a>
                            <a class="dropdown-item" href="#">2</a>
                            <a class="dropdown-item" href="#">3</a>
                            <a class="dropdown-item" href="#">4</a>
                            <a class="dropdown-item" href="#">5 (Strongly Agree)</a>
                        </div>
                    </div>
                    <strong>
                        <h3>Question 9</h3>
                    </strong>
                    <label for="Name">You think that everyone’s views should be respected regardless of whether they
                        are supported by facts or not.
                    </label>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Dropdown button
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">1 (Strongly Disagree)</a>
                            <a class="dropdown-item" href="#">2</a>
                            <a class="dropdown-item" href="#">3</a>
                            <a class="dropdown-item" href="#">4</a>
                            <a class="dropdown-item" href="#">5 (Strongly Agree)</a>
                        </div>
                    </div>
                    <strong>
                        <h3>Question 10</h3>
                    </strong>
                    <label for="Name">You feel more energetic after spending time with a group of people.</label>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Dropdown button
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">1 (Strongly Disagree)</a>
                            <a class="dropdown-item" href="#">2</a>
                            <a class="dropdown-item" href="#">3</a>
                            <a class="dropdown-item" href="#">4</a>
                            <a class="dropdown-item" href="#">5 (Strongly Agree)</a>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <br>
            <button type="button" class="btn btn-primary btn-lg btn-block"><i class="fa fa-check" aria-hidden="true"></i>Submit</button>
            <hr>
            <footer class="footer">
                <p><a href="/api/friends">API Friends List</a>|<a href="https://github.com/drewill6/friendfinder">GitHub
                        Repo</a> | <a href="/">Home</a>
                </p>
            </footer>

            <div id="resultModal" class="modal role=" dialog>
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">*</button>
                        <h2 class="title"><strong>Oh, New Friends</strong></h2>
                    </div>
                    <div class="modal-body">
                        <h2 id="finderName"></h2>
                        <img id="finderimage" src="" alt="">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Clos</button>
                    </div>

                </div>

            </div>
        </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    <script src="https://code.jquery.com/jquery.js"></script>

    <script type="text/javascript">

        $(".submit").on("click", function (event) {
            event.preventDefault();

            function validation() {

                var valid = true;

                var clientName = $("#clientName").val();
                if (clientName === "") {
                    valid = false;
                }

                var clientPhoto = $("#clientPhoto").val();
                if (clientPhoto === "") {
                    valid = false;
                }

                if ($("#clientPhoto").val().charAt(4) !== ":" && $("#clientPhoto").val().charAt(5) !== ":") {
                    valid = false;
                }

                $(".validate").each(function () {
                    console.log($(this).val());
                    if ($(this).val() === "") {
                        valid = false;
                    }
                });
                return valid;
            }
            //console.log(validation());
            if (validation() === true) {
                var survey = {
                    name: $("#clientName").val(),
                    photo: $("#clientPhoto").val(),
                    score: [

                        parseInt($("#question1").val()[0]),
                        parseInt($("#question2").val()[0]),
                        parseInt($("#question3").val()[0]),
                        parseInt($("#question4").val()[0]),
                        parseInt($("#question5").val()[0]),
                        parseInt($("#question6").val()[0]),
                        parseInt($("#question7").val()[0]),
                        parseInt($("#question8").val()[0]),
                        parseInt($("#question9").val()[0]),
                        parseInt($("#question10").val()[0])

                    ]
                }

                $.post("/api/finder", finderData,
                    function (data) {
                        $("#surveyName").html(data.name);
                        $("#surveyPhoto").attr("src", data.image);
                        //modal best match
                        $("#resultsModal").modal("open");

                    })
            } else {
                alert("");
            }
        });

    </script>
</body>

</html>